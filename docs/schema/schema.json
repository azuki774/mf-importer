{"name":"mfimporter","desc":"","tables":[{"name":"detail","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"int(11)","nullable":false,"default":null,"comment":"primary id","extra_def":"auto_increment"},{"name":"yyyymm_id","type":"int(11)","nullable":false,"default":null,"comment":"id for each yyyymm"},{"name":"date","type":"date","nullable":false,"default":null,"comment":"record date yyyymm"},{"name":"name","type":"text","nullable":true,"default":"NULL","comment":"detail name"},{"name":"price","type":"int(11)","nullable":true,"default":"NULL","comment":""},{"name":"fin_ins","type":"text","nullable":true,"default":"NULL","comment":"finance instrcument name"},{"name":"l_category","type":"text","nullable":true,"default":"NULL","comment":"large category name"},{"name":"m_category","type":"text","nullable":true,"default":"NULL","comment":"medium category name"},{"name":"regist_date","type":"date","nullable":false,"default":null,"comment":"date running importer"},{"name":"maw_check_date","type":"date","nullable":true,"default":"NULL","comment":"mawinter check date"},{"name":"maw_regist_date","type":"date","nullable":true,"default":"NULL","comment":"mawinter regist check date"},{"name":"raw_date","type":"text","nullable":true,"default":"NULL","comment":""},{"name":"raw_price","type":"text","nullable":true,"default":"NULL","comment":""},{"name":"created_at","type":"datetime","nullable":true,"default":"current_timestamp()","comment":""},{"name":"updated_at","type":"timestamp","nullable":true,"default":"current_timestamp()","extra_def":"on update current_timestamp()","comment":""}],"indexes":[{"name":"idx1","def":"KEY idx1 (maw_check_date) USING BTREE","table":"detail","columns":["maw_check_date"],"comment":""},{"name":"idx2","def":"KEY idx2 (name) USING BTREE","table":"detail","columns":["name"],"comment":""},{"name":"idx3","def":"KEY idx3 (raw_price) USING BTREE","table":"detail","columns":["raw_price"],"comment":""},{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"detail","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"detail","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `detail` (\n  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary id',\n  `yyyymm_id` int(11) NOT NULL COMMENT 'id for each yyyymm',\n  `date` date NOT NULL COMMENT 'record date yyyymm',\n  `name` text DEFAULT NULL COMMENT 'detail name',\n  `price` int(11) DEFAULT NULL,\n  `fin_ins` text DEFAULT NULL COMMENT 'finance instrcument name',\n  `l_category` text DEFAULT NULL COMMENT 'large category name',\n  `m_category` text DEFAULT NULL COMMENT 'medium category name',\n  `regist_date` date NOT NULL COMMENT 'date running importer',\n  `maw_check_date` date DEFAULT NULL COMMENT 'mawinter check date',\n  `maw_regist_date` date DEFAULT NULL COMMENT 'mawinter regist check date',\n  `raw_date` text DEFAULT NULL,\n  `raw_price` text DEFAULT NULL,\n  `created_at` datetime DEFAULT current_timestamp(),\n  `updated_at` timestamp NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  PRIMARY KEY (`id`),\n  KEY `idx1` (`maw_check_date`),\n  KEY `idx2` (`name`(768)),\n  KEY `idx3` (`raw_price`(768))\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci"},{"name":"extract_rule","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"int(11)","nullable":false,"default":null,"comment":"primary id","extra_def":"auto_increment"},{"name":"field_name","type":"text","nullable":false,"default":null,"comment":"extract field name (m_category or name)"},{"name":"value","type":"text","nullable":false,"default":null,"comment":""},{"name":"exact_match","type":"int(11)","nullable":true,"default":"NULL","comment":"exact match = 1 or not 0"},{"name":"category_id","type":"int(11)","nullable":false,"default":null,"comment":"mawinter category id"},{"name":"created_at","type":"datetime","nullable":true,"default":"current_timestamp()","comment":""},{"name":"updated_at","type":"timestamp","nullable":true,"default":"current_timestamp()","extra_def":"on update current_timestamp()","comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"extract_rule","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"extract_rule","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `extract_rule` (\n  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary id',\n  `field_name` text NOT NULL COMMENT 'extract field name (m_category or name)',\n  `value` text NOT NULL,\n  `exact_match` int(11) DEFAULT NULL COMMENT 'exact match = 1 or not 0',\n  `category_id` int(11) NOT NULL COMMENT 'mawinter category id',\n  `created_at` datetime DEFAULT current_timestamp(),\n  `updated_at` timestamp NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci"},{"name":"gorp_migrations","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"applied_at","type":"datetime","nullable":true,"default":"NULL","comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"gorp_migrations","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"gorp_migrations","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `gorp_migrations` (\n  `id` varchar(255) NOT NULL,\n  `applied_at` datetime DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_general_ci"},{"name":"import_history","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"int(11)","nullable":false,"default":null,"comment":"primary id","extra_def":"auto_increment"},{"name":"job_label","type":"text","nullable":true,"default":"NULL","comment":"importer sets joblabel"},{"name":"parsed_entry_num","type":"int(11)","nullable":false,"default":null,"comment":""},{"name":"new_entry_num","type":"int(11)","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"datetime","nullable":true,"default":"current_timestamp()","comment":""},{"name":"updated_at","type":"timestamp","nullable":true,"default":"current_timestamp()","extra_def":"on update current_timestamp()","comment":""}],"indexes":[{"name":"idx1","def":"KEY idx1 (job_label) USING BTREE","table":"import_history","columns":["job_label"],"comment":""},{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"import_history","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"import_history","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `import_history` (\n  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary id',\n  `job_label` text DEFAULT NULL COMMENT 'importer sets joblabel',\n  `parsed_entry_num` int(11) NOT NULL,\n  `new_entry_num` int(11) NOT NULL,\n  `created_at` datetime DEFAULT current_timestamp(),\n  `updated_at` timestamp NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  PRIMARY KEY (`id`),\n  KEY `idx1` (`job_label`(768))\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci"}],"relations":[],"functions":[],"driver":{"name":"mariadb","database_version":"11.4.2-MariaDB-ubu2404","meta":{"dict":{"Functions":"Stored procedures and functions"}}}}
